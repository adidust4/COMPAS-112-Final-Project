---
title: "Data-Wrangle-and-Analysis"
output: html_document
date: "2022-11-02"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r imports}
library(tidyverse)
library(ggplot2)
library(lubridate)
```

```{r read-files}
scores <- read.csv('compas-scores-raw.csv')
violent <- read.csv('cox-violent-parsed.csv')
fair_ml <- read.csv('propublica_data_for_fairml.csv')
```

```{r sex-chart}
sex_scores <- scores %>% 
  filter(str_detect(DisplayText, "Risk of Recidivism")) %>% 
  group_by(Sex_Code_Text) %>% 
  summarize(avg_score = mean(DecileScore))

head(sex_scores)

ggplot(data = sex_scores) +
  geom_col(aes(x = Sex_Code_Text, y = avg_score))
```

```{r race-score-viz}
race_score <- scores %>%
  mutate(Ethnic_Code_Text = if_else(Ethnic_Code_Text == "African-Am","African-American", Ethnic_Code_Text)) %>%
  filter(DisplayText == "Risk of Recidivism") %>%
  group_by(Ethnic_Code_Text) %>%
  summarize(avg_score = mean(DecileScore))
  
ggplot(race_score, aes(x = Ethnic_Code_Text, y = avg_score, fill = Ethnic_Code_Text)) +
  geom_bar(stat = 'identity')
```
